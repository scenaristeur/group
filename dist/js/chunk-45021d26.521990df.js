(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45021d26"],{3301:function(e,t,n){},9692:function(e,t,n){"use strict";n("3301")},f345:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"solid-chat-send container fluid"},[null!=e.webId?n("b-input-group",{staticClass:"input",attrs:{size:"lg"}},[n("b-form-input",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"warning"},on:{click:e.send}},[e._v("Send")])],1)],1):n("SolidLoginButton",{staticClass:"mt-3 input"})],1)},a=[],o=(n("d3b7"),n("96cf"),n("1da1")),i=n("16b0"),s=n("4d8d"),l=n("6dc1"),c=n("00e8"),u=n.n(c),d=n("7fed"),f=n.n(d),g=n("9b92"),p=g.namedNode,m=window.solid,w=new f.a(u.a),b={name:"SolidChatSend",props:["url"],mixins:[i["a"]],components:{SolidLoginButton:function(){return n.e("chunk-2d226c5a").then(n.bind(null,"e9a1"))}},data:function(){return{message:""}},computed:{fileUrl:function(){return this.$store.state.chat.fileUrl}},watch:{fileUrl:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.itemExists(e.fileUrl);case 2:if(t.sent){t.next=7;break}return t.next=5,w.postFile(e.fileUrl,"","text/turtle").then((function(e){console.log("File Created",e)})).catch((function(e){return console.error("Error: ".concat(e))}));case 5:t.next=8;break;case 7:console.log("File exist",e.fileUrl);case 8:case"end":return t.stop()}}),t)})))()}},methods:{send:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,i,c,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.url,console.log(e.fileUrl),!(e.message.length>0&&null!=e.webId)){t.next=28;break}return console.log(e.message),r=new Date,a="Msg"+r.getTime(),o=r.toISOString(),console.log("WEBID",e.webId,e.fileUrl),i=n+"/index.ttl#this",console.log("TODO : must integrate "+i+" in tripledoc or batch ldflex"),c=e.fileUrl+"#"+a,console.log(c),console.log("index",i),t.next=15,m.data.from(e.fileUrl)[i]["http://www.w3.org/2005/01/wf/flow#message"].add(p(c));case 15:return t.next=17,Object(s["c"])(e.fileUrl);case 17:return u=t.sent,d=u.addSubject({identifier:a}),d.addLiteral(l["f"].content,e.message),d.addLiteral(l["a"].created,o),d.addNodeRef(l["b"].maker,e.webId),console.log("AFTER"),t.next=25,u.save();case 25:e.message="",t.next=29;break;case 28:alert("Oh Oh, if yu wanna post yu gotta log in ;-)");case 29:case"end":return t.stop()}}),t)})))()}}},h=b,x=(n("9692"),n("2877")),k=Object(x["a"])(h,r,a,!1,null,"8fba5116",null);t["default"]=k.exports}}]);
//# sourceMappingURL=chunk-45021d26.521990df.js.map