(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["createGroup"],{f9c1:function(e,r,t){"use strict";t.r(r);var u=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"home"},[null!=e.webId?t("div",[t("b-form-group",[t("b-form-input",{ref:"name",staticClass:"m-3",attrs:{size:"lg",placeholder:"Nom du groupe"},model:{value:e.group.name,callback:function(r){e.$set(e.group,"name",r)},expression:"group.name"}}),t("b-form-textarea",{staticClass:"m-3",attrs:{size:"lg",placeholder:"Raison d'être"},model:{value:e.group.purpose,callback:function(r){e.$set(e.group,"purpose",r)},expression:"group.purpose"}}),t("b-form-input",{staticClass:"m-3",attrs:{size:"lg",placeholder:"Super groupe"},model:{value:e.group.super,callback:function(r){e.$set(e.group,"super",r)},expression:"group.super"}}),t("b-form-select",{staticClass:"m-3",attrs:{options:e.privacy_options,size:"lg"},model:{value:e.group.privacy,callback:function(r){e.$set(e.group,"privacy",r)},expression:"group.privacy"}}),t("b-form-input",{staticClass:"m-3",attrs:{size:"lg",placeholder:"Chemin"},model:{value:e.path,callback:function(r){e.path=r},expression:"path"}})],1),t("b-button",{attrs:{variant:"primary"},on:{click:e.create}},[e._v("Créer")]),t("p",[e._v(" "+e._s(e.group)+" "+e._s(e.group_url)+" ")])],1):t("div",[e._v("Please login with a Solid webId to create a group !")])])},o=[],a=(t("b0c0"),t("96cf"),t("1da1")),s=t("4585"),n={name:"CreateGroup",mixins:[s["a"]],mounted:function(){this.$refs.name.focus()},data:function(){return{path:"",group:{privacy:"public"},privacy_options:[{value:"public",text:"Public. Tout le monde peut voir qui est dans le groupe et ce qui est publié"},{value:"private",text:"Privé. Seuls les membres peuvent voir qui est dans le groupe et ce qui est publié"}],group_url:null}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:void 0!=e.$route.query.url?e.setSuperAndPath(e.$route.query.url,e.$route.hash):e.path=e.$store.state.storage+e.group.privacy+"/";case 1:case"end":return r.stop()}}),r)})))()},methods:{setSuperAndPath:function(e,r){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function u(){var o;return regeneratorRuntime.wrap((function(u){while(1)switch(u.prev=u.next){case 0:if(void 0==e){u.next=10;break}return t.group.super=void 0!=r?e+r:e,console.log(t.group.super),u.next=5,t.getGroupStorage(t.group.super);case 5:o=u.sent,t.path="".concat(o.url),console.log(t.path),u.next=11;break;case 10:t.path=t.$store.state.storage+t.group.privacy+"/";case 11:case"end":return u.stop()}}),u)})))()},create:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.group.path=e.path,r.next=3,e.createGroup(e.group);case 3:t=r.sent,console.log("group result",t),e.group_url=t.url,"ok"==t.creation.status&&e.$router.push("group?url="+t.url+"#"+t.identifier);case 7:case"end":return r.stop()}}),r)})))()}},watch:{url:function(){this.group.super=this.url},$route:function(e){this.setSuperAndPath(e.query.url,e.hash)}},computed:{url:{get:function(){return void 0!=this.$route.hash?this.$route.query.url+this.$route.hash:this.$route.query.urll},set:function(){}}}},i=n,p=t("2877"),c=Object(p["a"])(i,u,o,!1,null,null,null);r["default"]=c.exports}}]);
//# sourceMappingURL=createGroup.fc7a1abe.js.map