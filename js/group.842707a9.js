(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group"],{"4ebe":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:" container "},[r("div",{staticClass:"nav"},[void 0!=t.sup?r("div",{staticClass:"m-2"},[t._v("Super groupe: "),r("b-button",{attrs:{to:"/group?url="+t.sup,variant:"outline-primary",size:"sm"}},[t._v("Go Super")])],1):t._e(),void 0!=t.st.files&&t.st.files.length>0?r("div",{staticClass:"m-2"},[t._v(" Sous Groupes: "),t._l(t.st.files,(function(e){return r("b-button",{key:e.url,attrs:{to:"/group?url="+e.url+"#we",variant:"outline-info",size:"sm"}},[t._v(t._s(e.name))])}))],2):t._e(),void 0!=t.st.folders&&t.st.folders.length>0?r("div",{staticClass:"m-2"},[t._v(" Dossiers: "),t._l(t.st.folders,(function(e){return r("b-button",{key:e.url,attrs:{to:"/folder?url="+e.url,variant:"outline-primary",size:"sm"}},[t._v(t._s(e.name))])}))],2):t._e()]),r("div",{staticClass:"row"},[r("b-card",{staticClass:"m-2",attrs:{"img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[r("b-card-title",[r("a",{attrs:{href:t.url,target:"_blank"}},[t._v(t._s(t.name))])]),r("b-card-header",[t._v(t._s(t.purpose))]),r("b-card-text",[t._v(" Some quick example text to build on the card title and make up the bulk of the card's content. ")]),r("b-button",{attrs:{href:"#",variant:"primary"}},[t._v("Go somewhere")])],1),r("b-card",{staticClass:"m-2 col",attrs:{"img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[r("b-card-title",[r("a",{attrs:{href:t.url,target:"_blank"}},[t._v(t._s(t.name))])]),void 0!=t.inbox?r("b-button",{attrs:{to:"/inbox?url="+t.inbox,variant:"outline-primary",size:"sm"}},[t._v("Inbox")]):t._e(),r("b-button",{attrs:{href:"https://scenaristeur.github.io/spoggy-simple?source="+t.url,variant:"outline-primary",target:"_blank",size:"sm"}},[t._v("Graphe")]),r("b-button",{attrs:{to:"/profile?url="+t.maker,variant:"outline-primary",size:"sm"}},[t._v("Admin")]),r("b-card-header",[t._v(" "+t._s(t.purpose)+" ")]),r("b-card-text",[r("br"),t._v("Members: "),r("b-button",{attrs:{to:"/invite?url="+t.url,variant:"outline-primary",size:"sm"}},[t._v("Inviter")]),r("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:t.join_req}},[t._v("Rejoindre")]),r("br"),r("ul",t._l(t.members,(function(e){return r("li",{key:e},[t._v(t._s(e))])})),0)],1),t.subgroups.length>0?r("div",[t._v("sous groupes déclarés: "+t._s(t.subgroups))]):t._e(),r("small",[t._v("created:"+t._s(t.created))]),r("br")],1)],1)])},a=[],s=(r("99af"),r("b0c0"),r("664f"),r("96cf"),r("1da1")),o=r("668b"),u=r("4585"),i=r("00e8"),c=r.n(i),p=r("7fed"),l=r.n(p),d="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),m=new Uint8Array(16);function v(){if(!d)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(m)}var b=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function f(t){return"string"===typeof t&&b.test(t)}for(var h=f,g=[],w=0;w<256;++w)g.push((w+256).toString(16).substr(1));function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(g[t[e+0]]+g[t[e+1]]+g[t[e+2]]+g[t[e+3]]+"-"+g[t[e+4]]+g[t[e+5]]+"-"+g[t[e+6]]+g[t[e+7]]+"-"+g[t[e+8]]+g[t[e+9]]+"-"+g[t[e+10]]+g[t[e+11]]+g[t[e+12]]+g[t[e+13]]+g[t[e+14]]+g[t[e+15]]).toLowerCase();if(!h(r))throw TypeError("Stringified UUID is invalid");return r}var _=x;function y(t,e,r){t=t||{};var n=t.random||(t.rng||v)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var a=0;a<16;++a)e[r+a]=n[a];return e}return _(n)}var k=y,j=window.solid,C=new l.a(c.a),R={name:"Group",mixins:[u["a"]],created:function(){void 0!=this.$route.query.url&&(this.url=void 0!=this.$route.hash?this.$route.query.url+this.$route.hash:this.$route.query,this.update())},data:function(){return{group:{},name:"",purpose:"",created:"",inbox:"",maker:"",sup:void 0,members:"",st:"",subgroups:[]}},methods:{update:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,n,a,s,u,i,c,p,l,d,m,v,b,f,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.data[t.url]["http://www.w3.org/2006/vcard/ns#fn"];case 2:return t.name=e.sent,e.next=5,j.data[t.url]["http://www.w3.org/ns/org#purpose"];case 5:return t.purpose=e.sent,e.next=8,j.data[t.url]["http://purl.org/dc/terms/created"];case 8:return t.created=e.sent,e.next=11,j.data[t.url]["http://www.w3.org/ns/ldp#inbox"];case 11:return t.inbox=e.sent,e.next=14,j.data[t.url]["http://xmlns.com/foaf/0.1/maker"];case 14:return r=e.sent,t.maker="".concat(r),e.next=18,j.data[t.url]["http://www.w3.org/ns/org#subOrganizationOf"];case 18:t.sup=e.sent,t.members=[],n=!0,a=!1,e.prev=22,u=Object(o["a"])(j.data[t.url]["http://www.w3.org/2006/vcard/ns#hasMember"]);case 24:return e.next=26,u.next();case 26:return i=e.sent,n=i.done,e.next=30,i.value;case 30:if(c=e.sent,n){e.next=37;break}p=c,t.members.push("".concat(p));case 34:n=!0,e.next=24;break;case 37:e.next=43;break;case 39:e.prev=39,e.t0=e["catch"](22),a=!0,s=e.t0;case 43:if(e.prev=43,e.prev=44,n||null==u.return){e.next=48;break}return e.next=48,u.return();case 48:if(e.prev=48,!a){e.next=51;break}throw s;case 51:return e.finish(48);case 52:return e.finish(43);case 53:t.subgroups=[],l=!0,d=!1,e.prev=56,v=Object(o["a"])(j.data[t.url]["http://www.w3.org/ns/org#hasSubOrganization"]);case 58:return e.next=60,v.next();case 60:return b=e.sent,l=b.done,e.next=64,b.value;case 64:if(f=e.sent,l){e.next=71;break}h=f,t.subgroups.push("".concat(h));case 68:l=!0,e.next=58;break;case 71:e.next=77;break;case 73:e.prev=73,e.t1=e["catch"](56),d=!0,m=e.t1;case 77:if(e.prev=77,e.prev=78,l||null==v.return){e.next=82;break}return e.next=82,v.return();case 82:if(e.prev=82,!d){e.next=85;break}throw m;case 85:return e.finish(82);case 86:return e.finish(77);case 87:return e.next=89,t.getGroupStorage(t.url);case 89:t.st=e.sent;case 90:case"end":return e.stop()}}),e,null,[[22,39,43,53],[44,,48,52],[56,73,77,87],[78,,82,86]])})))()},join_req:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="@prefix :      <#> .\n      @prefix as:    <https://www.w3.org/ns/activitystreams#> .\n\n      :it\n      a as:Offer ;\n      as:actor <".concat(t.webId,'> ;\n      as:object :join ;\n      as:summary "').concat(t.webId,' asks to join the group" ;\n      as:target <').concat(t.url,"> .\n\n      :join\n      a as:Join ;\n      as:actor <").concat(t.webId,"> ;\n      as:object <").concat(t.url,'> ;\n      as:summary "').concat(t.webId,' joins group" .'),n="".concat(t.inbox)+k()+".ttl",e.prev=2,e.next=5,C.postFile(n,r,"text/turtle");case 5:a=e.sent,1==a.ok&&alert("Demande envoyée"),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0),alert("Erreur"+e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()}},watch:{url:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("update"),t.update();case 2:case"end":return e.stop()}}),e)})))()}},computed:{url:{get:function(){return void 0!=this.$route.hash?this.$route.query.url+this.$route.hash:this.$route.query.urll},set:function(){}}}},S=R,$=r("2877"),z=Object($["a"])(S,n,a,!1,null,null,null);e["default"]=z.exports},"664f":function(t,e,r){"use strict";var n=r("23e7"),a=r("857a"),s=r("af03");n({target:"String",proto:!0,forced:s("sup")},{sup:function(){return a(this,"sup","","")}})},"857a":function(t,e,r){var n=r("1d80"),a=/"/g;t.exports=function(t,e,r,s){var o=String(n(t)),u="<"+e;return""!==r&&(u+=" "+r+'="'+String(s).replace(a,"&quot;")+'"'),u+">"+o+"</"+e+">"}},af03:function(t,e,r){var n=r("d039");t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}}}]);
//# sourceMappingURL=group.842707a9.js.map